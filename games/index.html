<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Cheeky Commodore Gamer | Games Database</title>
    
    <meta name="description" content="Browse the full Commodore 64 and Amiga Games Database! Instantly watch video reviews, explore game genres, and find emulator-ready files.">
    <link rel="canonical" href="https://www.cheekycommodoregamer.co.uk/games">
    
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <link href="https://db.onlinewebfonts.com/c/05eb10077a913e99089a693039e6273e?family=Amiga+Topaz" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet"> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

        <link rel="stylesheet" href="/cheekycommodoregamer.github.io/css/style.css">

    <style>
        :root {
            --c64-blue: #352879; --c64-light-blue: #6c5eb5; --c64-text: #b8c76f; --c64-red: #880000;
            --amiga-blue: #0055AA; --amiga-white: #FFFFFF; --amiga-grey: #CCCCCC; --amiga-orange: #FF8800; --amiga-black: #000000;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'VT323', monospace; margin: 0; padding: 10px; min-height: 100vh; display: flex; justify-content: center; align-items: flex-start; text-transform: uppercase; overflow-x: hidden; transition: filter 0.3s ease, transform 0.5s ease; overscroll-behavior: none; }
        
        body.c64-mode { background-color: var(--c64-blue); color: var(--c64-text); cursor: default; }
        body.c64-mode h1, body.c64-mode h2, body.c64-mode p, body.c64-mode .nav-link { animation: textFlicker 0.15s infinite alternate; }
        @keyframes textFlicker { 0% { text-shadow: 2px 2px 0px #000; } 100% { text-shadow: 2.5px 2.5px 0px rgba(0,0,0,0.8); } }

        body.amiga-mode { background: linear-gradient(180deg, #0055AA 0%, #003D7A 100%); color: var(--amiga-white); font-family: 'Amiga Topaz', 'Courier New', monospace; cursor: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj48cGF0aCBmaWxsPSIjRkY0NDQ0IiBzdHJva2U9IiNGRkZGRkYiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTEgMWwxNSAxNS03IDIgNiA5LTMgMi02LTktNSA1eiIvPjwvc3ZnPg==') 0 0, auto; }
        body.amiga-mode a, body.amiga-mode button, body.amiga-mode .mode-switch, body.amiga-mode .btn-retro, body.amiga-mode .gadget, body.amiga-mode .secret-modal, body.amiga-mode .social-link-item { cursor: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj48cGF0aCBmaWxsPSIjRkY0NDQ0IiBzdHJva2U9IiNGRkZGRkYiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTEgMWwxNSAxNS03IDIgNiA5LTMgMi02LTktNSA1eiIvPjwvc3ZnPg==') 0 0, pointer; }
        body.amiga-mode::before { content: ''; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: repeating-linear-gradient(0deg, rgba(0,0,0,0.1) 0px, transparent 1px, transparent 2px, rgba(0,0,0,0.1) 3px); pointer-events: none; z-index: 9999; opacity: 0.3; }

        /* --- MODALS & OVERLAYS --- */
        .secret-modal { 
            display: none; 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            background: rgba(0,0,0,0.9); 
            z-index: 50000; 
            align-items: flex-start; 
            justify-content: center;
            overflow-y: auto; 
            -webkit-overflow-scrolling: touch; 
            padding-top: 20px;
            touch-action: pan-y;
        }
        
        .secret-content { 
            background: #000; 
            padding: 20px; 
            border: 4px double; 
            max-width: 500px; 
            width: 90%; 
            text-align: center; 
            position: relative; 
            box-shadow: 0 0 20px #000; 
            display: flex; 
            flex-direction: column; 
            margin-top: 20px;
            margin-bottom: 100px; 
        }
        body.c64-mode .secret-content { border-color: var(--c64-light-blue); color: var(--c64-text); }
        body.amiga-mode .secret-content { border-color: var(--amiga-white); color: var(--amiga-white); background: var(--amiga-blue); border-style: outset; border-width: 3px; }
        
        .modal-btn-group { display: flex; flex-direction: column; gap: 10px; margin-bottom: 20px; width: 100%; }
        .secret-btn { padding: 15px; cursor: pointer; font-family: inherit; text-transform: uppercase; font-weight: bold; border: 2px solid #fff; background: #333; color: #fff; width: 100%; font-size: 1.2rem; }
        .secret-btn:hover { background: #fff; color: #000; }
        .btn-close-modal { background: #880000; border-color: #ff0000; }
        .btn-open-input { background: #004400; border-color: #00ff00; color: #00ff00; }

        /* Clickable List Styles */
        .secret-list { list-style: none; padding: 0; text-align: left; margin-top: 5px; margin-bottom: 10px; }
        .secret-list li { margin-bottom: 8px; border: 1px solid #444; padding: 15px; cursor: pointer; transition: all 0.2s; background: rgba(255,255,255,0.1); font-size: 1.2rem; }
        .secret-list li:hover { background: #fff; color: #000; border-color: #fff; transform: translateX(5px); }
        .secret-list li::before { content: '> '; color: #888; }
        
        .zx-loading-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 999999; cursor: none; background: repeating-linear-gradient(0deg, #0000ff, #0000ff 10px, #ffff00 10px, #ffff00 20px, #00ffff 20px, #00ffff 30px, #ff0000 30px, #ff0000 40px); animation: zxScroll 0.02s linear infinite; }
        @keyframes zxScroll { 0% { background-position: 0 0; } 100% { background-position: 0 40px; } }

        .zx-menu-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #bfbfbf; z-index: 999998; font-family: 'Press Start 2P', monospace; flex-direction: column; align-items: center; justify-content: flex-start; padding-top: 100px; color: #000; }
        .zx-box { background: #fff; border: 4px solid #000; width: 300px; box-shadow: 8px 8px 0px rgba(0,0,0,0.3); }
        .zx-header { background: #000; color: #fff; padding: 5px; display: flex; justify-content: space-between; align-items: center; font-size: 0.8rem; }
        .zx-rainbow { width: 60px; height: 10px; background: linear-gradient(90deg, #ff0000 25%, #ffff00 25% 50%, #00ff00 50% 75%, #00ffff 75%); }
        .zx-options { list-style: none; padding: 0; margin: 0; }
        .zx-option { padding: 10px; cursor: pointer; font-size: 0.8rem; border-bottom: 1px solid #eee; }
        .zx-option.selected { background: #00ffff; color: #000; }
        .zx-footer { position: absolute; bottom: 20px; left: 20px; font-size: 0.7rem; text-align: left; line-height: 1.5; }

        #emulator-prank-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; border: none; z-index: 2000000; background: #000; }
        #emulator-frame { width: 100%; height: 100%; border: none; }

        #no-think-so-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 2100000; background: black; flex-direction: column; align-items: center; justify-content: flex-start; padding-top: 100px; }
        .return-btn { display: none; margin-top: 20px; padding: 15px 30px; font-family: 'Press Start 2P', monospace; background: #00ffff; color: #000; border: 4px solid #fff; cursor: pointer; font-size: 1rem; text-transform: uppercase; }

        .guru-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: #000; z-index: 100000; align-items: flex-start; justify-content: center; padding-top: 50px; cursor: none; }
        .guru-box { border: 15px solid #ff0000; padding: 30px 20px; text-align: center; font-family: 'Amiga Topaz', monospace; color: #ff0000; background: #000; animation: blinkGuru 0.8s infinite alternate; width: 95%; max-width: 800px; }
        .guru-text { font-size: 1.2rem; margin-bottom: 15px; letter-spacing: 1px; text-transform: none; line-height: 1.5; }
        @media (min-width: 600px) { .guru-text { font-size: 1.5rem; } .guru-box { padding: 40px 30px; } }
        @keyframes blinkGuru { 0% { border-color: #ff0000; color: #ff0000; } 50% { border-color: #000000; color: #000000; } 100% { border-color: #000000; color: #000000; } }

        @keyframes c64Reset { 0% { background-color: var(--c64-blue); } 20% { background-color: #fff; } 50% { background-color: var(--c64-green); } 100% { background-color: var(--c64-blue); } }
        body.resetting { animation: c64Reset 0.5s linear; }

        .power-switch-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 99999; pointer-events: none; opacity: 0; transform: scaleY(0); }
        .power-cycle { animation: turnOffOn 0.8s forwards; }
        @keyframes turnOffOn { 0% { opacity: 0; transform: scaleY(0.001) scaleX(1); background: #fff; } 31% { background: #000; transform: scale(1); } 80% { opacity: 1; transform: scaleY(0.005) scaleX(1); } 100% { opacity: 0; transform: scaleY(1) scaleX(1); } }

        @keyframes pacmanRun { 0% { left: -100px; } 100% { left: 110%; } }
        .pacman-sprite { position: fixed; top: 120px; left: -100px; font-size: 60px; color: yellow; animation: pacmanRun 12s linear forwards; z-index: 10001; pointer-events: none; }
        .ghost-sprite { position: fixed; top: 120px; left: -200px; font-size: 60px; color: red; animation: pacmanRun 12s linear forwards 0.8s; z-index: 10001; pointer-events: none; }

        @keyframes bounce { 0%, 100% { top: 10%; transform: rotate(0deg); } 50% { top: 50%; transform: rotate(180deg); } }
        @keyframes moveX { 0%, 100% { left: 0%; } 50% { left: 90%; } }
        .boing-ball { position: fixed; width: 100px; height: 100px; border-radius: 50%; background: conic-gradient(#f00 90deg, #fff 90deg 180deg, #f00 180deg 270deg, #fff 270deg); background-size: 33px 33px; box-shadow: inset -15px -15px 30px rgba(0,0,0,0.6); z-index: 10002; pointer-events: none; animation: bounce 4s ease-in-out infinite alternate, moveX 10s linear infinite alternate; }

        @keyframes dropInvader { 0% { top: -50px; } 100% { top: 100%; } }
        .invader { position: fixed; top: -50px; left: 50%; font-size: 80px; color: #0f0; animation: dropInvader 8s linear forwards; z-index: 10003; pointer-events: none; }

        .lemmings-overlay { position: fixed; top: 120px; left: 50%; transform: translateX(-50%); font-size: 6rem; color: #fff; z-index: 10005; text-shadow: 4px 4px #000; pointer-events: none; }
        .matrix-mode { color: #0f0 !important; background-color: #000 !important; font-family: 'Courier New', monospace !important; border-color: #0f0 !important; }
        .rainbow-mode * { animation: rainbowText 0.5s infinite linear; }
        @keyframes rainbowText { 0% { color: red; border-color: red; } 40% { color: yellow; border-color: yellow; } 80% { color: blue; border-color: blue; } }
        .barrel-roll { animation: roll 1s ease-in-out; }
        @keyframes roll { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .invert-effect { filter: invert(100%); }
        .poke-effect { animation: pokeFlash 0.1s infinite; background-image: none !important; }
        @keyframes pokeFlash { 0% { background-color: #000 !important; } 50% { background-color: #0f0 !important; } }

        /* --- NUCLEAR EXPLOSION EFFECT --- */
        @keyframes flashBoom {
            0% { background-color: white; opacity: 1; }
            25% { background-color: yellow; }
            50% { background-color: red; }
            100% { background-color: black; opacity: 0; }
        }
        .nuclear-explosion {
            position: fixed;
            top: 0; left: 0; width: 100vw; height: 100vh;
            z-index: 2147483647; /* MAX INT */
            background-color: white;
            animation: flashBoom 0.8s ease-out forwards;
            pointer-events: none;
        }

        /* --- CRT SHUTDOWN EFFECT --- */
        @keyframes tvOffAnim {
            0% { transform: scale(1, 1); opacity: 1; background: #fff; }
            40% { transform: scale(1, 0.02); opacity: 1; background: #fff; }
            70% { transform: scale(0.02, 0.02); opacity: 1; background: #fff; }
            100% { transform: scale(0, 0); opacity: 0; background: #000; }
        }
        .tv-off-overlay {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            z-index: 2147483647; background: #fff;
            animation: tvOffAnim 0.6s ease-out forwards;
            pointer-events: none;
        }

        /* --- GOD MODE OVERLAY (KONAMI) --- */
        @keyframes pulseGod { 0% { opacity: 1; transform: translate(-50%, -50%) scale(1); } 50% { opacity: 0.8; transform: translate(-50%, -50%) scale(1.1); } 100% { opacity: 1; transform: translate(-50%, -50%) scale(1); } }
        .god-mode-msg {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            color: #0f0; font-size: 3rem; background: #000; border: 6px double #0f0;
            padding: 30px; z-index: 2147483647; text-align: center;
            font-family: 'VT323', monospace; box-shadow: 0 0 50px #0f0;
            animation: pulseGod 0.5s infinite;
            white-space: nowrap;
        }
        @media(max-width: 600px) { .god-mode-msg { font-size: 1.5rem; padding: 15px; } }

        /* --- NEW EFFECTS --- */
        /* VHS EFFECT */
        .vhs-effect { filter: contrast(1.5) brightness(1.1) sepia(0.3); }
        .vhs-effect::after { content: "PLAY >"; position: fixed; top: 30px; left: 30px; font-family: monospace; color: white; font-size: 3rem; z-index: 10000; text-shadow: 2px 2px black; animation: blink 1s infinite; }
        
        /* TERMINATOR MODE */
        .terminator-mode::before { content: ""; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255, 0, 0, 0.3); z-index: 99999; pointer-events: none; }
        .terminator-mode * { color: red !important; border-color: red !important; }
        
        /* BSOD */
        .bsod { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #0000AA; color: white; z-index: 2147483647; font-family: 'Courier New', monospace; padding: 50px; font-size: 1.5rem; }
        
        /* PRESS PLAY LOADING */
        .press-play-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #352879; z-index: 2000000; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .c64-bars { width: 100%; height: 200px; background: repeating-linear-gradient(0deg, red, cyan, purple, green, blue, yellow, orange, brown, pink, grey); animation: scrollBars 0.1s infinite; }
        @keyframes scrollBars { 0% { background-position: 0 0; } 100% { background-position: 0 50px; } }

        /* PARTY MODE */
        @keyframes partyTime { 0% { filter: hue-rotate(0deg); } 100% { filter: hue-rotate(360deg); } }
        .party-mode { animation: partyTime 0.5s infinite linear; }

        /* ARABIC MODE */
        .arabic-mode { direction: rtl; font-family: 'Arial', sans-serif; }
        .arabic-mode h1, .arabic-mode h2, .arabic-mode h3, .arabic-mode p, .arabic-mode a, .arabic-mode .nav-link { font-family: 'Arial', sans-serif !important; }

        #starfield { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; opacity: 0.4; transition: opacity 0.5s; }
        body.amiga-mode #starfield { opacity: 0.1; }
        .crt-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06)); background-size: 100% 2px, 3px 100%; pointer-events: none; z-index: 998; }

        .mode-switch { position: fixed; top: 20px; right: 20px; z-index: 1000; display: flex; align-items: center; gap: 10px; background: rgba(0,0,0,0.8); padding: 12px 20px; border-radius: 30px; border: 3px solid; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(0,0,0,0.5); user-select: none; }
        body.c64-mode .mode-switch { border-color: var(--c64-light-blue); } body.amiga-mode .mode-switch { border-color: var(--amiga-orange); }
        .mode-switch:hover { transform: scale(1.05); }
        .mode-icon { font-size: 1.5rem; transition: all 0.3s ease; }
        body.c64-mode .c64-icon { color: var(--c64-text); animation: pulse 2s infinite; } body.c64-mode .amiga-icon { color: #555; }
        body.amiga-mode .amiga-icon { color: var(--amiga-orange); animation: pulse 2s infinite; } body.amiga-mode .c64-icon { color: #555; }
        @keyframes pulse { 0%, 100% { opacity: 1; transform: scale(1); } 50% { opacity: 0.7; transform: scale(1.1); } }
        .mode-label { font-size: 1.2rem; font-weight: bold; }
        body.c64-mode .mode-label { color: var(--c64-text); } body.amiga-mode .mode-label { color: var(--amiga-white); }

        .container { width: 100%; max-width: 900px; padding: 15px; position: relative; margin-top: 10px; margin-bottom: 20px; transition: all 0.5s ease; }
        body.c64-mode .container { border: 4px solid var(--c64-light-blue); background-color: rgba(53, 40, 121, 0.95); box-shadow: 0 0 20px rgba(0,0,0,0.5); }
        body.amiga-mode .container { border: 3px solid var(--amiga-white); background-color: var(--amiga-white); box-shadow: 8px 8px 0px rgba(0,0,0,0.5), 0 0 20px rgba(0,0,0,0.3); }

        .amiga-title-bar { display: none; background: linear-gradient(180deg, #0066CC 0%, #0044AA 100%); color: var(--amiga-white); height: 32px; align-items: center; justify-content: space-between; padding: 0 10px; margin: -15px -15px 15px -15px; border-bottom: 2px solid var(--amiga-white); font-weight: bold; }
        body.amiga-mode .amiga-title-bar { display: flex; }
        .title-gadgets { display: flex; gap: 5px; }
        .gadget { width: 20px; height: 16px; background: var(--amiga-grey); border: 2px outset #FFFFFF; transition: transform 0.1s; }
        .close-gadget { background: linear-gradient(180deg, #FF4444 0%, #CC0000 100%); cursor: pointer; }
        .close-gadget:active { border-style: inset; }

        h1, h2, h3 { margin: 0 0 15px 0; text-align: center; font-weight: normal; }
        body.c64-mode h1, body.c64-mode h2, body.c64-mode h3 { color: #fff; }
        body.amiga-mode h1 { color: var(--amiga-blue); text-shadow: 2px 2px 0 rgba(0,0,0,0.1); }
        body.amiga-mode h2, body.amiga-mode h3 { color: var(--amiga-black); }
        h1 { font-size: 2rem; min-height: 1.2em; }
        h2 { border-bottom: 1px dashed; padding-bottom: 5px; margin-bottom: 20px; display: flex; justify-content: center; align-items: center; gap: 10px; }
        body.c64-mode h2 { border-color: var(--c64-light-blue); } body.amiga-mode h2 { border-color: var(--amiga-blue); }
        p { font-size: 1.2rem; margin-bottom: 15px; text-align: center; line-height: 1.4; }
        body.amiga-mode p { color: var(--amiga-black); }

        .commodore-header { text-align: center; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 2px dashed; }
        body.c64-mode .commodore-header { border-color: var(--c64-light-blue); } body.amiga-mode .commodore-header { border-color: var(--amiga-blue); }
        body.c64-mode #system-text { cursor: pointer; } body.c64-mode #system-text:hover { text-decoration: underline; }

        .nav-bar { display: flex; justify-content: center; flex-wrap: wrap; gap: 10px; margin-bottom: 15px; padding-bottom: 15px; border-bottom: 2px solid; }
        body.c64-mode .nav-bar { border-color: var(--c64-light-blue); } body.amiga-mode .nav-bar { border-color: var(--amiga-blue); }
        .nav-link { font-size: 1.1rem; cursor: pointer; white-space: nowrap; text-decoration: none; transition: all 0.2s ease; }
        body.c64-mode .nav-link { color: var(--c64-text); } body.amiga-mode .nav-link { color: var(--amiga-blue); }
        .nav-link:hover { color: #fff; text-decoration: underline; } body.amiga-mode .nav-link:hover { color: var(--amiga-orange); }

        /* === SOCIAL STRIP === */
        .social-strip {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin: 20px 0 30px 0;
            padding: 10px 0;
            border-top: 1px dashed rgba(108, 94, 181, 0.5);
            border-bottom: 1px dashed rgba(108, 94, 181, 0.5);
        }
        body.amiga-mode .social-strip { border-color: var(--amiga-blue); }

        .social-link-item {
            color: var(--c64-light-blue);
            font-size: 1.2rem;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 5px 10px;
            border-radius: 4px;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }
        body.amiga-mode .social-link-item { color: var(--amiga-blue); font-weight: bold; }

        .social-link-item:hover {
            color: #fff;
            background: rgba(108, 94, 181, 0.2);
            border-color: var(--c64-light-blue);
            text-decoration: none;
            transform: translateY(-2px);
            text-shadow: 0 0 5px var(--c64-light-blue);
        }
        body.amiga-mode .social-link-item:hover { color: var(--amiga-orange); border-color: var(--amiga-orange); background: rgba(0,0,0,0.05); text-shadow: none; }

        .social-link-item i { font-size: 1.3rem; }

        .btn-grid { display: grid; grid-template-columns: 1fr; gap: 12px; margin-bottom: 25px; width: 100%; }
        .btn-retro { padding: 12px 10px; font-family: inherit; font-size: 1.3rem; cursor: pointer; display: flex; justify-content: center; align-items: center; gap: 10px; text-align: center; transition: all 0.3s ease; text-transform: uppercase; width: 100%; text-decoration: none; border: 2px solid; }
        body.c64-mode .btn-retro { background: var(--c64-light-blue); color: #fff; border-color: #fff; box-shadow: 0 4px 0 rgba(0,0,0,0.2); }
        body.c64-mode .btn-retro:hover { background: #fff; color: var(--c64-blue); transform: translateY(-2px); box-shadow: 0 6px 0 rgba(0,0,0,0.3); }
        body.amiga-mode .btn-retro { background: linear-gradient(180deg, #EEEEEE 0%, #CCCCCC 100%); color: #000; border-top: 3px solid #FFFFFF; border-left: 3px solid #FFFFFF; border-right: 3px solid #666666; border-bottom: 3px solid #666666; font-weight: bold; }
        body.amiga-mode .btn-retro:hover { background: linear-gradient(180deg, #FFFFFF 0%, #DDDDDD 100%); transform: translateY(-2px); }
        body.amiga-mode .btn-retro:active { border-top: 3px solid #666666; border-left: 3px solid #666666; border-right: 3px solid #FFFFFF; border-bottom: 3px solid #FFFFFF; transform: translate(2px, 2px); }

        .info-box { border: 1px solid; padding: 15px; margin-bottom: 30px; text-align: left; }
        body.c64-mode .info-box { border-color: var(--c64-text); background: rgba(0,0,0,0.4); }
        body.amiga-mode .info-box { border-color: var(--amiga-blue); background: rgba(0,85,170,0.1); }
        .info-list { list-style-type: none !important; padding: 0; margin: 0; }
        .info-list li { margin-bottom: 8px; font-size: 1.1rem; }
        body.c64-mode .info-list li { color: var(--c64-text); } body.amiga-mode .info-list li { color: var(--amiga-black); }
        .info-list strong { color: #fff; } body.amiga-mode .info-list strong { color: var(--amiga-blue); }

        .video-grid { display: grid; grid-template-columns: 1fr; gap: 20px; margin-bottom: 30px; }
        .video-card { border: 4px solid #888; border-radius: 10px; background: #000; overflow: hidden; box-shadow: 0 0 15px rgba(0,0,0,0.6); transition: transform 0.3s ease, border-color 0.3s ease; }
        .video-card:hover { transform: scale(1.02); border-color: #fff; }
        .video-label { background: #444; color: #fff; text-align: center; padding: 5px; font-size: 1rem; border-bottom: 1px solid #888; }
        .video-wrapper { position: relative; padding-bottom: 56.25%; height: 0; }
        .video-wrapper iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0; }
        .loading-text { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); animation: blink 1s infinite; }
        body.c64-mode .loading-text { color: var(--c64-light-blue); } body.amiga-mode .loading-text { color: var(--amiga-orange); }

        @media (min-width: 600px) {
            body { padding: 20px; } .container { padding: 25px; margin-top: 20px; } h1 { font-size: 2.5rem; }
            .btn-grid { grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; }
            .video-grid { grid-template-columns: 1fr 1fr; } .nav-bar { gap: 20px; }
        }
        @media (max-width: 600px) { .mode-switch { top: 10px; right: 10px; padding: 8px 12px; } .mode-label { display: none; } }

        .blink { animation: blink 1s infinite; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }
        .cursor { display: inline-block; width: 10px; height: 1em; vertical-align: bottom; animation: blink 1s infinite; }
        body.c64-mode .cursor { background-color: var(--c64-light-blue); } body.amiga-mode .cursor { background-color: var(--amiga-orange); }
        
        /* --- INTELLIGENT CLEAN INPUT OVERLAY --- */
        #command-console {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%;
            padding: 15px;
            background: #000;
            border-bottom: 4px solid #0f0;
            z-index: 1000000;
            box-shadow: 0 10px 20px rgba(0,0,0,0.8);
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        #command-console.hidden { display: none !important; }
        
        .console-row { display: flex; gap: 10px; width: 100%; }
        
        #console-input {
            flex-grow: 1;
            height: 50px;
            background: #000;
            color: #0f0;
            font-family: 'VT323', monospace;
            font-size: 24px;
            border: 2px solid #0f0;
            padding: 5px 10px;
            text-transform: uppercase;
            border-radius: 0;
            outline: none;
        }
        
        .console-btn {
            height: 50px;
            font-family: 'VT323', monospace;
            font-size: 20px;
            border: 2px solid;
            cursor: pointer;
            font-weight: bold;
            text-transform: uppercase;
        }
        .btn-execute { background: #004400; color: #0f0; border-color: #0f0; flex-grow: 1; }
        .btn-cancel { background: #440000; color: #f00; border-color: #f00; width: 80px; }
        
        #console-input.error { animation: shake 0.5s; border-color: red; color: red; }
        @keyframes shake { 10%, 90% { transform: translateX(-5px); } 50% { transform: translateX(5px); } }

        /* D-PAD (Only visible for ZX Spectrum Menu) */
        .d-pad-container { display: none; position: fixed; bottom: 20px; left: 20px; z-index: 999999; }
        .d-pad-container.visible { display: block; }
        .d-pad { width: 120px; height: 120px; position: relative; }
        .d-pad button { position: absolute; width: 40px; height: 40px; background: rgba(255,255,255,0.2); border: 1px solid #fff; color: #fff; }
        .d-up { top: 0; left: 40px; } .d-down { bottom: 0; left: 40px; } .d-left { top: 40px; left: 0; } .d-right { top: 40px; right: 0; }
        .fire-btn { position: fixed; bottom: 30px; right: 30px; width: 70px; height: 70px; background: rgba(255,0,0,0.3); border: 2px solid #fff; border-radius: 50%; color: #fff; display: none; align-items: center; justify-content: center; font-weight: bold; z-index: 999999; }
        .fire-btn.visible { display: flex; }

        @keyframes turn-off { 0% { transform: scale(1, 1.3) translate3d(0, 0, 0); filter: brightness(1); opacity: 1; } 60% { transform: scale(1, 0.001) translate3d(0, 0, 0); filter: brightness(10); } 100% { animation-timing-function: cubic-bezier(0.755, 0.050, 0.855, 0.060); transform: scale(0.000, 0.0001) translate3d(0, 0, 0); filter: brightness(50); opacity: 0; } }
        .crt-off { animation: turn-off 0.55s cubic-bezier(0.230, 1.000, 0.320, 1.000); animation-fill-mode: forwards; }
    </style>
</head>
<body class="c64-mode">

    <canvas id="starfield"></canvas>
    <div class="crt-overlay"></div>
    <div id="power-overlay" class="power-switch-overlay"></div>
    <div id="zx-loading-bars" class="zx-loading-overlay"></div>

    <div id="guru" class="guru-overlay">
        <div class="guru-box">
            <div class="guru-text">Software Failure. &nbsp; &nbsp; Press left mouse button to continue.</div>
            <div class="guru-text">Guru Meditation #00000025.65045338</div>
        </div>
    </div>

    <div id="zx-menu" class="zx-menu-overlay">
        <div class="zx-box">
            <div class="zx-header"><span>128 +3e</span><div class="zx-rainbow"></div></div>
            <ul class="zx-options" id="zx-options-list">
                <li class="zx-option">Loader</li>
                <li class="zx-option">+3 BASIC</li>
                <li class="zx-option selected">Return To Sense</li>
            </ul>
        </div>
        <div class="zx-footer"><p>©1982, 1986, 1987 Amstrad Plc.</p><p>©2000-2006 Garry Lancaster v1.28</p></div>
    </div>

    <div id="emulator-prank-overlay"><iframe id="emulator-frame"></iframe></div>

    <div id="no-think-so-overlay">
        <img src="https://raw.githubusercontent.com/joepentony-dot/website-images/main/no%20i%20dont%20think%20so.jpg" style="max-width: 100%; max-height: 70%; object-fit: contain;">
        <button class="return-btn" onclick="resetToSense()">RETURN TO YOUR SENSES</button>
    </div>

    <div id="secret-modal" class="secret-modal">
        <div class="secret-content">
            <div class="modal-btn-group">
                <button class="secret-btn btn-open-input play-sound" onclick="openCommandConsole()">ENTER CODES</button>
                <button class="secret-btn btn-close-modal play-sound" onclick="closeSecret()">CLOSE EASTER EGGS</button>
            </div>

            <h2 style="margin-bottom: 10px;">SYSTEM COMMANDS</h2>
            <p>TAP TO ACTIVATE:</p>
            <ul class="secret-list">
                <li onclick="triggerCheat('sys64738')">SYS64738</li>
                <li onclick="triggerCheat('press play')">PRESS PLAY</li>
                <li onclick="triggerCheat('vhs')">VHS</li>
                <li onclick="triggerCheat('terminator')">TERMINATOR</li>
                <li onclick="triggerCheat('bsod')">BSOD</li>
                <li onclick="triggerCheat('mario')">MARIO</li>
                <li onclick="triggerCheat('nokia')">NOKIA</li>
                <li onclick="triggerCheat('sonic')">SONIC</li>
                <li onclick="triggerCheat('warp')">WARP</li>
                <li onclick="triggerCheat('party')">PARTY</li>
                <li onclick="triggerCheat('zxspectrum')">ZXSPECTRUM</li>
                <li onclick="triggerCheat('pacman')">PACMAN</li>
                <li onclick="triggerCheat('boing')">BOING</li>
                <li onclick="triggerCheat('matrix')">MATRIX</li>
                <li onclick="triggerCheat('invaders')">INVADERS</li>
                <li onclick="triggerCheat('rainbow')">RAINBOW</li>
                <li onclick="triggerCheat('lemmings')">LEMMINGS</li>
                <li onclick="triggerCheat('cheeky')">CHEEKY</li>
                <li onclick="triggerCheat('konamicode')">KONAMI CODE</li>
            </ul>
        </div>
    </div>

    <div class="mode-switch play-sound" onclick="toggleMode()">
        <i class="fa-solid fa-desktop mode-icon c64-icon" title="C64 Mode"></i>
        <span class="mode-label">C64 MODE</span>
        <i class="fa-solid fa-computer mode-icon amiga-icon" title="Amiga Mode"></i>
    </div>

    <div id="command-console" class="hidden">
        <div class="console-row">
            <input type="text" id="console-input" placeholder="TYPE CODE..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
        </div>
        <div class="console-row">
            <button class="console-btn btn-execute" onclick="submitConsole()">EXECUTE</button>
            <button class="console-btn btn-cancel" onclick="closeCommandConsole()">X</button>
        </div>
    </div>

    <div class="d-pad-container" id="game-controls">
        <div class="d-pad">
            <button class="d-up" ontouchstart="simulateKey('ArrowUp', 'down')" ontouchend="simulateKey('ArrowUp', 'up')">▲</button>
            <button class="d-left" ontouchstart="simulateKey('ArrowLeft', 'down')" ontouchend="simulateKey('ArrowLeft', 'up')">◀</button>
            <button class="d-right" ontouchstart="simulateKey('ArrowRight', 'down')" ontouchend="simulateKey('ArrowRight', 'up')">▶</button>
            <button class="d-down" ontouchstart="simulateKey('ArrowDown', 'down')" ontouchend="simulateKey('ArrowDown', 'up')">▼</button>
        </div>
    </div>
    <div class="fire-btn" id="fire-btn" ontouchstart="simulateKey('Enter', 'down')" ontouchend="simulateKey('Enter', 'up')">FIRE</div>

    <div class="container" id="main-container">
        <div class="amiga-title-bar">
            <div style="display: flex; align-items: center; gap: 10px;">
                <div class="title-gadgets"><div class="gadget close-gadget" title="Close Workbench"></div><div class="gadget"></div></div>
                <span>Cheeky Commodore Gamer - Workbench 1.3</span>
            </div>
        </div>
        <div class="commodore-header">
            <h3 id="system-text" onclick="triggerC64Reset()">**** COMMODORE 64 BASIC V2 ****</h3>
            <p id="ram-text">64K RAM SYSTEM 38911 BASIC BYTES FREE</p>
            <div class="nav-bar">
                                <a href="/cheekycommodoregamer.github.io/games" class="nav-link play-sound">GENRES</a>
                <a href="/cheekycommodoregamer.github.io/games/complete-index.html" class="nav-link play-sound">INDEX</a>
                <a href="/cheekycommodoregamer.github.io/resources/quiz.html" class="nav-link play-sound">QUIZ</a>
                <a href="/cheekycommodoregamer.github.io/retro-events.html" class="nav-link play-sound">EVENTS</a>
                <a href="/cheekycommodoregamer.github.io/about.html" class="nav-link play-sound">ABOUT</a>
                <a href="/cheekycommodoregamer.github.io/contact.html" class="nav-link play-sound">CONTACT</a>
                <a class="nav-link play-sound" onclick="openSecret()">?[HELP]</a>
            </div>
        </div>
        <div style="text-align: center;">
            <h1 id="typewriter-text"></h1>
            <h2><i class="fa-solid fa-floppy-disk"></i> ULTIMATE RESOURCE: REVIEWS & DOWNLOADS</h2>
            <div class="info-box">
                <ul class="info-list"><li>> <strong>WATCH GAMEPLAY:</strong> INSTANT YOUTUBE REVIEWS</li><li>> <strong>REVIEWS:</strong> LEMON64 / LEMONAMIGA INTEGRATION</li><li>> <strong>MANUALS:</strong> ORIGINAL PDF SCANS INCLUDED</li><li>> <strong>DOWNLOAD:</strong> READY-TO-RUN EMULATOR FILES</li></ul>
            </div>
            <div class="btn-grid">
                                <a href="/cheekycommodoregamer.github.io/retro-resources/emulator-guide.html" class="btn-retro play-sound"><i class="fa-solid fa-gear"></i> EMULATION GUIDE</a>
                <a href="https://www.youtube.com/@CheekyCommodoreGamer?sub_confirmation=1" target="_blank" class="btn-retro play-sound" style="border-color: var(--c64-red);"><i class="fa-brands fa-youtube"></i> SUBSCRIBE</a>
            </div>
        </div>
        <h2><i class="fa-brands fa-youtube"></i> FEATURED GAMEPLAY VIDEOS</h2>
        <div class="video-grid">
            <div class="video-card" id="featured-c64"><div class="video-label">COMMODORE 64</div><div class="video-wrapper"><p class="loading-text">LOADING SIGNAL...</p></div></div>
            <div class="video-card" id="featured-amiga"><div class="video-label">COMMODORE AMIGA</div><div class="video-wrapper"><p class="loading-text">LOADING SIGNAL...</p></div></div>
        </div>
        <h2><i class="fa-solid fa-gamepad"></i> EXPLORE GAME GENRES</h2>
        <div class="btn-grid">
                        <a href="/cheekycommodoregamer.github.io/games/top-picks.html" class="btn-retro play-sound"><i class="fa-solid fa-star"></i> TOP PICKS</a>
            <a href="/cheekycommodoregamer.github.io/games/c64-cartridge.html" class="btn-retro play-sound"><i class="fa-solid fa-microchip"></i> CARTRIDGE</a>
            <a href="/cheekycommodoregamer.github.io/games/bpjs-indexed-games.html" class="btn-retro play-sound"><i class="fa-solid fa-ban"></i> BANNED</a>
            <a href="/cheekycommodoregamer.github.io/games/action-adventure.html" class="btn-retro play-sound"><i class="fa-solid fa-skull"></i> ACTION/ADV</a>
            <a href="/cheekycommodoregamer.github.io/games/adventure-games.html" class="btn-retro play-sound"><i class="fa-solid fa-map"></i> ADVENTURE</a>
            <a href="/cheekycommodoregamer.github.io/games/arcade.html" class="btn-retro play-sound"><i class="fa-solid fa-ghost"></i> ARCADE</a>
            <a href="/cheekycommodoregamer.github.io/games/fighting.html" class="btn-retro play-sound"><i class="fa-solid fa-hand-fist"></i> FIGHTING</a>
            <a href="/cheekycommodoregamer.github.io/games/casino.html" class="btn-retro play-sound"><i class="fa-solid fa-dice"></i> CASINO</a>
            <a href="/cheekycommodoregamer.github.io/games/horror.html" class="btn-retro play-sound"><i class="fa-solid fa-spider"></i> HORROR</a>
            <a href="/cheekycommodoregamer.github.io/games/licensed-games.html" class="btn-retro play-sound"><i class="fa-solid fa-film"></i> LICENSED</a>
            <a href="/cheekycommodoregamer.github.io/games/platform.html" class="btn-retro play-sound"><i class="fa-solid fa-person-running"></i> PLATFORM</a>
            <a href="/cheekycommodoregamer.github.io/games/puzzle-games.html" class="btn-retro play-sound"><i class="fa-solid fa-puzzle-piece"></i> PUZZLE</a>
            <a href="/cheekycommodoregamer.github.io/games/quiz-games.html" class="btn-retro play-sound"><i class="fa-solid fa-question"></i> QUIZ</a>
            <a href="/cheekycommodoregamer.github.io/games/racing.html" class="btn-retro play-sound"><i class="fa-solid fa-car"></i> RACING</a>
            <a href="/cheekycommodoregamer.github.io/games/rpg.html" class="btn-retro play-sound"><i class="fa-solid fa-scroll"></i> RPG</a>
            <a href="/cheekycommodoregamer.github.io/games/shooting.html" class="btn-retro play-sound"><i class="fa-solid fa-jet-fighter"></i> SHOOT'EM UP</a>
            <a href="/cheekycommodoregamer.github.io/games/sports.html" class="btn-retro play-sound"><i class="fa-solid fa-futbol"></i> SPORTS</a>
            <a href="/cheekycommodoregamer.github.io/games/strategy.html" class="btn-retro play-sound"><i class="fa-solid fa-chess-knight"></i> STRATEGY</a>
        </div>
        
        <h2><i class="fa-solid fa-users"></i> COMMUNITY LINKS</h2>
        <div class="social-strip">
            <a href="https://www.youtube.com/@CheekyCommodoreGamer" target="_blank" class="social-link-item play-sound"><i class="fa-brands fa-youtube"></i> YOUTUBE</a>
            <a href="https://patreon.com/CheekyCommodoregamer" target="_blank" class="social-link-item play-sound"><i class="fa-brands fa-patreon"></i> PATREON</a>
            <a href="https://facebook.com/cheekycommodoregamer" target="_blank" class="social-link-item play-sound"><i class="fa-brands fa-facebook"></i> FACEBOOK</a>
            <a href="https://twitter.com/CheekyC64Gamer" target="_blank" class="social-link-item play-sound"><i class="fa-brands fa-x-twitter"></i> TWITTER</a>
            <a href="https://discord.gg/83Xw9ktAn4" target="_blank" class="social-link-item play-sound"><i class="fa-brands fa-discord"></i> DISCORD</a>
            <a href="https://www.paypal.com/donate/?hosted_button_id=LGG86ZV9P4YKL" target="_blank" class="social-link-item play-sound"><i class="fa-brands fa-paypal"></i> PAYPAL</a>
        </div>
    </div>

    <script>
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        let currentAudio = null; 

        const playClickSound = () => {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const o = audioCtx.createOscillator(), g = audioCtx.createGain();
            o.connect(g); g.connect(audioCtx.destination);
            const isAmiga = document.body.classList.contains('amiga-mode');
            if (isAmiga) {
                o.type = 'sine'; o.frequency.setValueAtTime(1200, audioCtx.currentTime); o.frequency.exponentialRampToValueAtTime(600, audioCtx.currentTime + 0.1);
                g.gain.setValueAtTime(0.1, audioCtx.currentTime); g.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.1);
            } else {
                o.type = 'square'; o.frequency.setValueAtTime(150, audioCtx.currentTime); o.frequency.exponentialRampToValueAtTime(40, audioCtx.currentTime + 0.1);
                g.gain.setValueAtTime(0.1, audioCtx.currentTime); g.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1);
            }
            o.start(); o.stop(audioCtx.currentTime + 0.1);
        };

        const playTypeSound = () => {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const o = audioCtx.createOscillator(), g = audioCtx.createGain();
            o.connect(g); g.connect(audioCtx.destination);
            o.type = 'triangle'; o.frequency.setValueAtTime(800, audioCtx.currentTime);
            g.gain.setValueAtTime(0.02, audioCtx.currentTime); g.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.05);
            o.start(); o.stop(audioCtx.currentTime + 0.05);
        };

        const playTone = (freq, type, dur) => {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const o = audioCtx.createOscillator(), g = audioCtx.createGain();
            o.connect(g); g.connect(audioCtx.destination);
            o.type = type; o.frequency.setValueAtTime(freq, audioCtx.currentTime);
            g.gain.setValueAtTime(0.1, audioCtx.currentTime); g.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + dur);
            o.start(); o.stop(audioCtx.currentTime + dur);
        };

        const playAuthenticLoad = () => {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const o1 = audioCtx.createOscillator(), g1 = audioCtx.createGain();
            o1.connect(g1); g1.connect(audioCtx.destination); o1.type = 'square'; o1.frequency.setValueAtTime(800, audioCtx.currentTime); g1.gain.setValueAtTime(0.1, audioCtx.currentTime); o1.start(); o1.stop(audioCtx.currentTime + 1.5);
            const o2 = audioCtx.createOscillator(), g2 = audioCtx.createGain();
            o2.connect(g2); g2.connect(audioCtx.destination); o2.type = 'sawtooth'; g2.gain.setValueAtTime(0, audioCtx.currentTime); g2.gain.setValueAtTime(0.1, audioCtx.currentTime + 1.5);
            let startTime = audioCtx.currentTime + 1.5; for(let i=0; i<50; i++) { o2.frequency.setValueAtTime(1000 + Math.random()*2000, startTime + (i*0.02)); }
            o2.start(); o2.stop(audioCtx.currentTime + 2.5);
        };
        document.querySelectorAll('.play-sound').forEach(el => el.addEventListener('click', playClickSound));

        // === HELP MODAL LOGIC ===
        function openSecret() { 
            document.getElementById('secret-modal').style.display = 'flex'; 
        }
        function closeSecret() { 
            document.getElementById('secret-modal').style.display = 'none'; 
        }

        // === CONSOLE LOGIC ===
        const consoleOverlay = document.getElementById('command-console');
        const consoleInput = document.getElementById('console-input');

        function openCommandConsole() {
            closeSecret(); // Hide the list
            consoleOverlay.classList.remove('hidden');
            setTimeout(() => consoleInput.focus(), 100);
        }

        function closeCommandConsole() {
            consoleOverlay.classList.add('hidden');
            consoleInput.value = "";
        }

        function submitConsole() {
            const rawValue = consoleInput.value;
            const code = rawValue.trim().toLowerCase().replace(/[^a-z0-9]/g, '');
            
            if (cheats[code]) {
                cheats[code]();
                playClickSound();
                closeCommandConsole();
                typeText("typewriter-text", "CHEAT ACTIVATED: " + code.toUpperCase(), 30);
            } else {
                playTone(100, 'sawtooth', 0.2);
                consoleInput.classList.add('error');
                consoleInput.value = "INVALID CODE";
                setTimeout(() => {
                    consoleInput.classList.remove('error');
                    consoleInput.value = "";
                }, 1500);
            }
        }

        // Handle Enter Key in Console
        consoleInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.keyCode === 13) {
                e.preventDefault();
                submitConsole();
            }
        });

        // === CHEAT ENGINE ===
        let keyHistory = '';
        const cheats = {
            'sys64738': () => { triggerC64Reset(); },
            'pressplay': () => { const d = document.createElement('div'); d.className = 'press-play-overlay'; d.innerHTML = '<div class="c64-bars"></div><h1 style="color:#fff;margin-top:20px;">PRESS PLAY ON TAPE</h1><div class="c64-bars"></div>'; document.body.appendChild(d); setTimeout(() => d.remove(), 4000); },
            'vhs': () => { document.body.classList.toggle('vhs-effect'); },
            'terminator': () => { document.body.classList.toggle('terminator-mode'); playTone(100, 'sawtooth', 0.5); },
            'bsod': () => { const b = document.createElement('div'); b.className = 'bsod'; b.innerHTML = "<p>A fatal exception 0E has occurred at 0028:C0011E36 in VXD VMM(01) + 00010E36.</p><p>Press any key to continue...</p>"; document.body.appendChild(b); b.onclick = () => b.remove(); },
            'mario': () => { playTone(660, 'square', 0.1); setTimeout(() => playTone(1320, 'square', 0.3), 150); },
            'nokia': () => { 
                const t = 150; 
                playTone(1318, 'square', 0.1); 
                setTimeout(() => playTone(1174, 'square', 0.1), t);
                setTimeout(() => playTone(740, 'square', 0.1), t*2);
                setTimeout(() => playTone(830, 'square', 0.2), t*3);
            },
            'sonic': () => { playTone(1200, 'sine', 0.3); setTimeout(() => playTone(1000, 'sine', 0.4), 300); },
            'warp': () => { 
                const s = document.getElementById('starfield'); 
                s.style.opacity = "1"; 
                document.body.style.transition = "transform 5s"; 
                document.body.style.transform = "scale(0.1) rotate(360deg)"; 
                setTimeout(() => { document.body.style.transform = "scale(1) rotate(0deg)"; s.style.opacity = "0.4"; }, 5000); 
            },
            'party': () => { document.body.classList.toggle('party-mode'); },
            'pacman': () => { const p = document.createElement('i'); p.className = 'fa-solid fa-ghost pacman-sprite'; const g = document.createElement('i'); g.className = 'fa-solid fa-ghost ghost-sprite'; document.body.appendChild(p); document.body.appendChild(g); setTimeout(() => { p.remove(); g.remove(); }, 13000); },
            'boing': () => { const b = document.createElement('div'); b.className = 'boing-ball'; document.body.appendChild(b); setTimeout(() => b.remove(), 10000); },
            'load': () => { const l = document.getElementById('loading-screen'); if(l) {l.style.display = 'flex'; playTone(1000, 'square', 1.5); setTimeout(() => l.style.display = 'none', 3000); }},
            'guru': () => { document.getElementById('guru').style.display = 'flex'; playTone(100, 'sawtooth', 1); },
            'matrix': () => { document.body.classList.toggle('matrix-mode'); document.querySelector('.container').classList.toggle('matrix-mode'); },
            'invaders': () => { const i = document.createElement('i'); i.className = 'fa-solid fa-robot invader'; document.body.appendChild(i); playTone(150, 'sawtooth', 0.5); setTimeout(() => i.remove(), 8500); },
            'rainbow': () => { document.body.classList.add('rainbow-mode'); setTimeout(() => { document.body.classList.remove('rainbow-mode'); }, 5000); },
            'lemmings': () => { 
                const overlay = document.createElement('div'); 
                overlay.className = 'lemmings-overlay'; 
                document.body.appendChild(overlay); 
                const audio = new Audio('https://raw.githubusercontent.com/joepentony-dot/website-images/main/Lemmings%20Blow.mp3'); 
                audio.play().catch(e => console.log("Audio play failed:", e)); 
                let count = 5; 
                const countdown = setInterval(() => { 
                    if (count > 0) { 
                        overlay.innerText = count; 
                        count--; 
                    } else { 
                        clearInterval(countdown); 
                        overlay.innerText = "OH NO!"; 
                        overlay.style.color = "red"; 
                        
                        // === NUCLEAR EXPLOSION (FIXED) ===
                        const boom = document.createElement('div');
                        boom.className = 'nuclear-explosion';
                        document.body.appendChild(boom);
                        
                        document.body.classList.add('poke-effect'); 
                        setTimeout(() => { 
                            overlay.remove(); 
                            boom.remove();
                            document.body.classList.remove('poke-effect'); 
                        }, 1000); 
                    } 
                }, 1000); 
            },
            'zxspectrum': () => { 
                const loader = document.getElementById('zx-loading-bars'); loader.style.display = 'block'; playAuthenticLoad(); 
                setTimeout(() => { 
                    loader.style.display = 'none'; 
                    zxActive = true; 
                    document.getElementById('zx-menu').style.display = 'flex'; 
                    // SHOW D-PAD FOR ZX
                    document.getElementById('game-controls').classList.add('visible');
                    document.getElementById('fire-btn').classList.add('visible');
                }, 2500); 
            },
            'cheeky': () => { 
                // FORCE REDIRECT - Keeping the original function here, but note it redirects to a non-existent link on GitHub unless custom domain is active
                window.location.replace("https://gaydar.net/");
            },
            'konamicode': () => { 
                // EXCITING KONAMI CODE
                playTone(400, 'square', 0.1); 
                setTimeout(() => playTone(600, 'square', 0.1), 150);
                setTimeout(() => playTone(1000, 'square', 0.4), 300);
                
                const msg = document.createElement('div');
                msg.className = 'god-mode-msg';
                msg.innerHTML = "GOD MODE ENABLED<br>30 LIVES ADDED";
                document.body.appendChild(msg);
                
                setTimeout(() => {
                    msg.remove();
                    activateCRTShutdown();
                }, 2500);
            }
        };

        // === NEW FUNCTION: TRIGGER CHEAT FROM LIST CLICK ===
        function triggerCheat(code) {
            closeSecret(); 
            if(cheats[code]) {
                cheats[code]();
                playClickSound();
                typeText("typewriter-text", "CHEAT ACTIVATED: " + code.toUpperCase(), 30);
            }
        }

        // GLOBAL KEY LISTENER (Desktop & Hidden D-Pad)
        let zxActive = false;
        let zxIndex = 2; 
        const zxOptions = document.querySelectorAll('.zx-option');
        
        function updateZxMenu() { zxOptions.forEach((opt, idx) => { if (idx === zxIndex) opt.classList.add('selected'); else opt.classList.remove('selected'); }); }

        document.addEventListener('keydown', (e) => {
            // If console is open, ignore global keys
            if (!consoleOverlay.classList.contains('hidden')) return;

            if (zxActive) {
                if (e.key === 'ArrowUp') { zxIndex = (zxIndex - 1 + zxOptions.length) % zxOptions.length; updateZxMenu(); playClickSound(); } 
                else if (e.key === 'ArrowDown') { zxIndex = (zxIndex + 1) % zxOptions.length; updateZxMenu(); playClickSound(); } 
                else if (e.key === 'Enter') { 
                    if (zxIndex === 2) { resetToSense(); } else { startEmulatorPrank(); } 
                } 
                e.preventDefault(); 
                return;
            }
            
            // Desktop Typing History Logic
            if(e.target.tagName !== 'INPUT') {
                keyHistory += e.key.toLowerCase();
                if (keyHistory.length > 20) keyHistory = keyHistory.slice(-20);
                const cleanHistory = keyHistory.replace(/[^a-z0-9]/g, '');
                for (let code in cheats) {
                    if (cleanHistory.endsWith(code)) {
                        cheats[code]();
                        keyHistory = ''; 
                        playClickSound();
                    }
                }
            }
        });

        // SOFT RESET
        function resetToSense() {
            if (currentAudio) { currentAudio.pause(); currentAudio.currentTime = 0; }
            document.getElementById('emulator-prank-overlay').style.display = 'none'; 
            document.getElementById('no-think-so-overlay').style.display = 'none'; 
            document.getElementById('zx-menu').style.display = 'none'; 
            document.getElementById('secret-modal').style.display = 'none'; 
            document.getElementById('guru').style.display = 'none'; 
            document.getElementById('emulator-frame').src = "";
            
            // HIDE D-PAD
            document.getElementById('game-controls').classList.remove('visible');
            document.getElementById('fire-btn').classList.remove('visible');

            const body = document.body; playClickSound(); body.classList.add('resetting');
            zxActive = false; 
            document.documentElement.removeAttribute('dir');
            body.classList.remove('arabic-mode');

            const isC64 = body.classList.contains('c64-mode'); const text = isC64 ? "COMMODORE 64 BASIC V2" : "AMIGA WORKBENCH 1.3 LOADED";
            setTimeout(() => { body.classList.remove('resetting'); typeText("typewriter-text", text, 30); }, 600);
        }

        // ZX MENU CLICK Logic
        zxOptions.forEach((opt, index) => {
            opt.addEventListener('click', () => {
                zxIndex = index;
                updateZxMenu();
                if (zxIndex === 2) { resetToSense(); }
                else { startEmulatorPrank(); }
            });
        });

        // EMULATOR PRANK
        function startEmulatorPrank() {
            document.getElementById('zx-menu').style.display = 'none';
            // Hide D-Pad during prank
            document.getElementById('game-controls').classList.remove('visible');
            document.getElementById('fire-btn').classList.remove('visible');
            
            const emuOverlay = document.getElementById('emulator-prank-overlay'); const emuFrame = document.getElementById('emulator-frame');
            emuOverlay.style.display = 'block'; emuFrame.src = "https://jsspeccy.zxdemo.org/";
            setTimeout(() => { emuFrame.src = ""; emuOverlay.style.display = 'none'; triggerNoThinkSo(); }, 5000);
        }
        function triggerNoThinkSo() {
            document.getElementById('no-think-so-overlay').style.display = 'flex';
            zxActive = false;
            currentAudio = new Audio('https://raw.githubusercontent.com/joepentony-dot/website-images/main/no%20i%20dont%20think%20so.mp3'); currentAudio.play().catch(e => console.log("Audio play failed:", e)); 
            setTimeout(() => { document.querySelector('#no-think-so-overlay .return-btn').style.display = 'block'; }, 3000);
        }

        // Simulate Keys for D-Pad
        function simulateKey(keyName, type) {
            const eventType = (type === 'down') ? 'keydown' : 'keyup';
            const event = new KeyboardEvent(eventType, { 'key': keyName, 'code': keyName, 'bubbles': true, 'cancelable': true });
            document.dispatchEvent(event);
        }

        // Konami (D-Pad Version)
        const konamiSequence = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];
        let konamiIndex = 0;
        // (Note: D-Pad triggers keydown events, so this listener catches them)
        
        function activateCRTShutdown() {
            // Add CRT OFF Overlay
            const offOverlay = document.createElement('div');
            offOverlay.className = 'tv-off-overlay';
            document.body.appendChild(offOverlay);
            
            // Force body black to hide C64 blue
            document.body.style.backgroundColor = '#000';
            
            setTimeout(() => { 
                alert("SYSTEM REBOOT INITIALIZED... \nEaster Egg Found: KONAMI CODE"); 
                offOverlay.remove();
                document.body.style.backgroundColor = ''; // Reset bg
                resetToSense(); 
            }, 2000);
        }
        
        // GURU
        const closeBtn = document.querySelector('.close-gadget'); const guruOverlay = document.getElementById('guru');
        closeBtn.addEventListener('click', () => { playTone(100, 'sawtooth', 1.5); guruOverlay.style.display = 'flex'; });
        guruOverlay.addEventListener('click', () => { resetToSense(); });

        // RESET / TOGGLE
        function triggerC64Reset() { const body = document.body; if (!body.classList.contains('c64-mode')) return; playClickSound(); body.classList.add('resetting'); document.getElementById("typewriter-text").innerHTML = ""; setTimeout(() => { body.classList.remove('resetting'); typeText("typewriter-text", "COMMODORE 64 BASIC V2", 50); }, 600); }
        function toggleMode() { const body = document.body; const isC64 = body.classList.contains('c64-mode'); const powerOverlay = document.getElementById('power-overlay'); playClickSound(); powerOverlay.classList.remove('power-cycle'); void powerOverlay.offsetWidth; powerOverlay.classList.add('power-cycle'); setTimeout(() => { if (isC64) setAmigaMode(); else setC64Mode(); typeText("typewriter-text", isC64 ? "AMIGA WORKBENCH 1.3 LOADED" : "COMMODORE 64 BASIC V2", 30); }, 350); }
        function setAmigaMode() { const body = document.body; body.classList.remove('c64-mode'); body.classList.add('amiga-mode'); document.getElementById('system-text').textContent = '**** AMIGA WORKBENCH 1.3 ****'; document.getElementById('ram-text').textContent = '512K CHIP RAM + 512K FAST RAM'; document.querySelector('.mode-label').textContent = 'AMIGA MODE'; localStorage.setItem('preferredMode', 'amiga'); }
        function setC64Mode() { const body = document.body; body.classList.remove('amiga-mode'); body.classList.add('c64-mode'); document.getElementById('system-text').textContent = '**** COMMODORE 64 BASIC V2 ****'; document.getElementById('ram-text').textContent = '64K RAM SYSTEM 38911 BASIC BYTES FREE'; document.querySelector('.mode-label').textContent = 'C64 MODE'; localStorage.setItem('preferredMode', 'c64'); }
        window.addEventListener('load', () => { const savedMode = localStorage.getItem('preferredMode'); if (savedMode === 'amiga') setAmigaMode(); });

        const typeText = (elementId, text, delay = 50) => { const el = document.getElementById(elementId); el.innerHTML = ""; let i = 0; if (el.dataset.typingInterval) clearInterval(el.dataset.typingInterval); const timer = setInterval(() => { el.innerHTML += text.charAt(i); playTypeSound(); i++; if (i >= text.length) { clearInterval(timer); el.innerHTML += '<span class="cursor"></span>'; } }, delay); el.dataset.typingInterval = timer; };
        typeText("typewriter-text", "COMMODORE 64 & AMIGA GAMES DATABASE", 60);

        // STARS / VIDEO
        const canvas = document.getElementById('starfield'); const ctx = canvas.getContext('2d'); let stars = [];
        function resizeCanvas() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; initStars(); }
        function initStars() { stars = []; for(let i=0; i<100; i++) stars.push({x:Math.random()*canvas.width, y:Math.random()*canvas.height, size:Math.random()*2, speed:Math.random()*3+0.5}); }
        function animateStars() { ctx.clearRect(0, 0, canvas.width, canvas.height); ctx.fillStyle = "#fff"; stars.forEach(star => { ctx.fillRect(star.x, star.y, star.size, star.size); star.y += star.speed; if(star.y > canvas.height) star.y = 0; }); requestAnimationFrame(animateStars); }
        window.addEventListener('resize', resizeCanvas); resizeCanvas(); animateStars();

        const API_KEY = "AIzaSyABtgqVHmOrfzw2DLE-3ta3OmlaQ0ad_t8"; const C64_PLAYLIST_ID = "PL_TYjnCNYSex7dxxCMMuOsjzcXE1VNiR9"; const AMIGA_PLAYLIST_ID = "PL_TYjnCNYSezw55SVAMN2_UhdH3gCca1n";
        async function fetchAllVideoIds(playlistId) { let videos = []; let nextPageToken = ""; let pageCount = 0; try { do { const url = `https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=50&pageToken=${nextPageToken}&playlistId=${playlistId}&key=${API_KEY}`; const res = await fetch(url); const data = await res.json(); if (data.items) videos = videos.concat(data.items.map(item => item.snippet.resourceId.videoId)); nextPageToken = data.nextPageToken || ""; pageCount++; } while (nextPageToken && pageCount < 3); return videos; } catch (err) { return []; } }
        function displayVideo(containerId, videoId) { const container = document.getElementById(containerId); if (!container) return; container.querySelector('.video-wrapper').innerHTML = `<iframe src="https://www.youtube.com/embed/${videoId}" title="YouTube" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`; }
        async function setupFeaturedGames() { const [c64Ids, amigaIds] = await Promise.all([fetchAllVideoIds(C64_PLAYLIST_ID), fetchAllVideoIds(AMIGA_PLAYLIST_ID)]); if (c64Ids.length > 0) displayVideo("featured-c64", c64Ids[Math.floor(Math.random() * c64Ids.length)]); if (amigaIds.length > 0) displayVideo("featured-amiga", amigaIds[Math.floor(Math.random() * amigaIds.length)]); }
        window.onload = setupFeaturedGames;
    </script>
</body>
</html>
